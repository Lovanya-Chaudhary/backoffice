<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 5.5.0-->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="FirearmTrackDetail" pageWidth="792" pageHeight="612" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="726b9294-c761-48b1-8e48-46980f622306">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="575"/>
	<property name="ireport.y" value="0"/>
	<property name="ireport.jasperserver.reportUnit" value="/public/Tomax/MMSO/Firearm/FirearmTrackingDetail"/>
	<property name="ireport.jasperserver.url" value="http://dev01.tmx.com:8080/jasperserver-pro/services/repository/"/>
	<style name="Report Title" mode="Transparent" forecolor="#3E7899" backcolor="#FFFFFF" hAlign="Left" vAlign="Top" isBlankWhenNull="true" fontName="Arial" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold"/>
	<style name="Parameter Title" forecolor="#000000" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false">
		<box>
			<bottomPen lineWidth="0.25" lineColor="#999999"/>
		</box>
	</style>
	<style name="Parameter" forecolor="#000000" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3"/>
	</style>
	<style name="Group1 Header" mode="Opaque" forecolor="#FFFFFF" backcolor="#215C7B" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3"/>
	</style>
	<style name="Group2 Header" mode="Opaque" forecolor="#FFFFFF" backcolor="#3E7899" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3"/>
	</style>
	<style name="Group3 Header" mode="Opaque" forecolor="#FFFFFF" backcolor="#5C93AD" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3"/>
	</style>
	<style name="Group4 Header" mode="Opaque" forecolor="#FFFFFF" backcolor="#597177" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3"/>
	</style>
	<style name="Group5 Header" mode="Opaque" forecolor="#000000" backcolor="#B7C5C7" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3">
			<topPen lineWidth="0.25" lineColor="#999999"/>
			<leftPen lineWidth="0.25" lineColor="#999999"/>
			<bottomPen lineWidth="0.25" lineColor="#999999"/>
			<rightPen lineWidth="0.25" lineColor="#999999"/>
		</box>
	</style>
	<style name="Column Header" mode="Opaque" forecolor="#000000" backcolor="#FFFFFF" hAlign="Center" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3">
			<leftPen lineWidth="0.75" lineColor="#000000"/>
			<bottomPen lineWidth="0.75" lineColor="#000000"/>
			<rightPen lineWidth="0.75" lineColor="#000000"/>
		</box>
	</style>
	<style name="Detail" mode="Opaque" forecolor="#000000" backcolor="#F5F5F5" hAlign="Center" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica">
		<box leftPadding="2" rightPadding="2">
			<topPen lineWidth="0.0" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.0" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.0" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.0" lineColor="#FFFFFF"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{PAGE_COUNT}.intValue()%2 == 0)]]></conditionExpression>
			<style backcolor="#FFFFFF" fontName="Arial"/>
		</conditionalStyle>
	</style>
	<style name="Page Footer" forecolor="#000000" backcolor="#FFFFFF" vAlign="Bottom" isBlankWhenNull="true" fontName="Arial" fontSize="10" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica">
		<box leftPadding="0" rightPadding="0"/>
	</style>
	<style name="Report Total" mode="Opaque" forecolor="#FFFFFF" backcolor="#3E7899" hAlign="Center" vAlign="Middle" isBlankWhenNull="true" fontName="Arial" fontSize="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold">
		<box leftPadding="3" rightPadding="3"/>
	</style>
	<parameter name="TMX_TIME_INTERVAL" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["previous_week"]]></defaultValueExpression>
	</parameter>
	<parameter name="TMX_BREAKDOWN_BY" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["empty"]]></defaultValueExpression>
	</parameter>
	<parameter name="TMX_MERCHANDISE_HIERARCHY" class="java.lang.Long" isForPrompting="false">
		<defaultValueExpression><![CDATA[new Long(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="TMX_MERCH_HIERARCHY_LEVEL" class="java.lang.Long" isForPrompting="false">
		<defaultValueExpression><![CDATA[new Long(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="TMX_LOCATION_HIERARCHY" class="java.lang.Long" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Long(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="TMX_LOC_HIERARCHY_LEVEL" class="java.lang.Long" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Long(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="IDMUserRoleHierarchy" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["0"]]></defaultValueExpression>
	</parameter>
	<parameter name="IDMUserRoleSites" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["0"]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["repo:"]]></defaultValueExpression>
	</parameter>
	<parameter name="vendor_id" class="java.lang.String"/>
	<parameter name="group_id" class="java.lang.String">
		<defaultValueExpression><![CDATA["ALL"]]></defaultValueExpression>
	</parameter>
	<parameter name="begin_date" class="java.util.Date">
		<defaultValueExpression><![CDATA[new java.util.Date(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="end_date" class="java.util.Date">
		<defaultValueExpression><![CDATA[new java.util.Date(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="allStatus" class="java.lang.String"/>
	<parameter name="availStatus" class="java.lang.String"/>
	<parameter name="rsvdStatus" class="java.lang.String"/>
	<parameter name="intranStatus" class="java.lang.String"/>
	<parameter name="rtvStatus" class="java.lang.String"/>
	<parameter name="lostStatus" class="java.lang.String"/>
	<parameter name="soldStatus" class="java.lang.String">
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="actionAttribute" class="java.lang.String"/>
	<parameter name="caliberAttribute" class="java.lang.String">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="mfgAttribute" class="java.lang.String"/>
	<parameter name="modelAttribute" class="java.lang.String"/>
	<parameter name="importerAttribute" class="java.lang.String"/>
	<parameter name="availableNow" class="java.lang.String">
		<defaultValueExpression><![CDATA["N"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT gd.serial_no serialno,  gd.sku_no skuno, gh.vendor_id vendorid, gd.site_no,gd.seq_no,
             gh.action, gh.caliber_gauge, gh.manufacturer,gh.importer, gh.mfg_cd, gh.model,gd.cert_no  certificateno,gd.disp_cert_no certificateid,
             gd.tran_dt, gd.site_no,gd.type_cd process,  gd.new_status, nvl(gd.cust_id, ' ') cust_id,
             nvl(gd.cust_name,' ') cust_name, nvl(gd.cust_line1,' ') cust_line1,
             nvl(gd.cust_city,' ') cust_city, nvl(gd.cust_state,' ') cust_state,
             nvl(gd.cust_zip,' ') cust_zip,
	     gd.ffl_name fflname, gd.ffl_id fflid,gd.comment_text comments,
	     f.ffl_id site_fln, gd.customer_license_id as cust_fln, g.description group_desc,
             gd.ffl_id_vendor,gd.ttsn ttsn,
	     NVL(f1.name,' ') as vendor_name, NVL(f1.adr1,' ') as vendor_adr1, NVL(f1.city,' ') as vendor_city, NVL(f1.state,' ') as vendor_state,
	     NVL(f1.zip,' ') as vendor_zip, f1.ffl_id vendor_ffl,
  	     f1.name || ' ' || f1.adr1 || ' ' || f1.city || ' ' || f1.state || ' ' || f1.zip rcvdfrom,
  	     f2.name || ' ' || f2.adr1 || ' ' || f2.city || ' ' || f2.state || ' ' || f2.zip xrcvdfrom
   FROM gunlog_dtl gd
   JOIN serial_tran st ON st.serial_no = gd.serial_no
                             AND st.sku_no = gd.sku_no
                             AND st.seq_no = (select max(seq_no) from gunlog_dtl where sku_no = gd.sku_no and serial_no = gd.serial_no)
   JOIN gunlog_hdr gh ON gh.sku_no =gd.sku_no
   LEFT OUTER JOIN ffl f ON f.site_no = gd.site_no
               AND f.type = 'SITE'
   LEFT OUTER JOIN ffl f1 ON  f1.vendor_id   IN (SELECT vendor_id FROM rcvdoc rd WHERE (doc_no, site_no) = (SELECT  ref_doc_no, ref_doc_site_no FROM gunlog_dtl gd2 WHERE gd2.sku_no = gd.sku_no AND gd2.ffl_id = f1.ffl_id AND gd2.serial_no = gd.serial_no AND type_cd IN ('RCVPO','RCVDS')))
               AND f1.type = 'VENDOR' AND f1.site_no is NULL AND f1.active_fl = 'Y'
   LEFT OUTER JOIN customer c ON c.customer_id = gd.cust_id
   LEFT OUTER JOIN ffl f2 ON f2.ffl_id = gd.ffl_id
               AND f2.type = 'SITE'   AND f2.active_fl = 'Y'
   JOIN groups g ON g.group_id = $P{group_id}
WHERE gd.tran_dt between $P{begin_date} and $P{end_date}
  AND f.active_fl = 'Y'
  AND ($P{vendor_id} IS NOT NULL AND $P{vendor_id} = (SELECT vendor_id FROM rcvdoc rd WHERE  (doc_no, site_no) IN (SELECT  ref_doc_no, ref_doc_site_no FROM gunlog_dtl gd2 WHERE gd2.sku_no = gd.sku_no AND gd2.serial_no = gd.serial_no AND gd2.type_cd IN ('RCVPO','RCVDS')))
      OR ($P{vendor_id} IS NULL))
  AND gd.site_no in (select site_no from sitgrp where group_id = $P{group_id})
  AND nvl(gh.action,'~') = decode($P{actionAttribute}, NULL, nvl(gh.action,'~'), $P{actionAttribute})
  AND nvl(gh.manufacturer,'~') = decode($P{mfgAttribute}, NULL, nvl(gh.manufacturer,'~'), $P{mfgAttribute})
  AND nvl(gh.caliber_gauge,'~') = decode($P{caliberAttribute}, NULL, nvl(gh.caliber_gauge,'~'), $P{caliberAttribute})
  AND nvl(gh.model,'~') = decode($P{modelAttribute}, NULL, nvl(gh.model,'~'), $P{modelAttribute})
  AND nvl(gh.importer,'~') = decode($P{importerAttribute}, NULL, nvl(gh.importer,'~'), $P{importerAttribute})
  AND ($P{allStatus} = 'Y' OR ($P{allStatus} = 'N' AND (($P{availStatus} = 'Y' AND gd.new_status = 'AVAIL')
                                                   OR  ($P{rsvdStatus}   = 'Y' AND gd.new_status = 'RSVD')
                                                   OR  ($P{intranStatus} = 'Y' AND gd.new_status = 'INTRN')
                                                   OR  ($P{rtvStatus}    = 'Y' AND gd.new_status = 'RTV')
                                                   OR  ($P{lostStatus}   = 'Y' AND gd.new_status = 'LOST')
                                                   OR  ($P{soldStatus}   = 'Y' AND gd.new_status = 'SOLD'))))
    AND (($P{availableNow} = 'Y' and st.new_status in('AVAIL','RETRN'))
        OR ($P{availableNow} = 'N'))
  order by gh.manufacturer, gd.sku_no, gd.serial_no, gd.seq_no]]>
	</queryString>
	<field name="SERIALNO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="SKUNO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDORID" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="SITE_NO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="SEQ_NO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ACTION" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CALIBER_GAUGE" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="MANUFACTURER" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="IMPORTER" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="MFG_CD" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="MODEL" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CERTIFICATENO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CERTIFICATEID" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="TRAN_DT" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="PROCESS" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="NEW_STATUS" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_ID" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_NAME" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_LINE1" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_CITY" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_STATE" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_ZIP" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="FFLNAME" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="FFLID" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="COMMENTS" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="SITE_FLN" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CUST_FLN" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="GROUP_DESC" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="FFL_ID_VENDOR" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="TTSN" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_NAME" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_ADR1" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_CITY" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_STATE" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_ZIP" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VENDOR_FFL" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="RCVDFROM" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="XRCVDFROM" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<group name="Group_1">
		<groupExpression><![CDATA[$F{SKUNO} + $F{SERIALNO}]]></groupExpression>
		<groupHeader>
			<band height="72">
				<textField>
					<reportElement style="Column Header" x="0" y="56" width="45" height="14" uuid="378eb56b-0346-4949-a25a-7e1b19d1d076"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Date"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="45" y="56" width="83" height="14" uuid="9c26f4c9-7ca7-4a03-ab93-f3eb391ab74b"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Process"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="128" y="56" width="36" height="14" uuid="2a927a58-e874-4083-8b59-30dacd2918bd"/>
					<box leftPadding="1" rightPadding="1"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Status"]]></textFieldExpression>
				</textField>
				<frame>
					<reportElement style="Group1 Header" mode="Opaque" x="0" y="0" width="752" height="39" forecolor="#FFFFFF" backcolor="#215C7B" uuid="fcd860df-0311-4834-b856-ada99d491beb"/>
					<box>
						<pen lineWidth="1.5" lineStyle="Solid"/>
						<topPen lineWidth="1.5" lineStyle="Solid"/>
						<leftPen lineWidth="1.5" lineStyle="Solid"/>
						<bottomPen lineWidth="1.5" lineStyle="Solid"/>
						<rightPen lineWidth="1.5" lineStyle="Solid"/>
					</box>
					<staticText>
						<reportElement x="4" y="2" width="36" height="17" forecolor="#FFFFFF" uuid="1a55b024-3375-418d-b3c0-951038c61fc6"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="11"/>
						</textElement>
						<text><![CDATA[SKU #:]]></text>
					</staticText>
					<staticText>
						<reportElement x="369" y="25" width="73" height="14" forecolor="#FFFFFF" uuid="4d5d9869-f21b-48ed-bdab-bdc2b3f32a7b"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9"/>
						</textElement>
						<text><![CDATA[Type:]]></text>
					</staticText>
					<staticText>
						<reportElement x="369" y="1" width="105" height="12" forecolor="#FFFFFF" uuid="0431217d-e2d2-4930-9f02-65d5cc417a5e"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9"/>
						</textElement>
						<text><![CDATA[MFG/Importer:]]></text>
					</staticText>
					<staticText>
						<reportElement x="4" y="19" width="36" height="17" forecolor="#FFFFFF" uuid="7ad99317-4f1b-4d95-848e-77683f030787"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="11"/>
						</textElement>
						<text><![CDATA[Serial:]]></text>
					</staticText>
					<staticText>
						<reportElement x="369" y="13" width="73" height="12" forecolor="#FFFFFF" uuid="2d2cbd42-2715-4cee-8292-d8e719652f26"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9"/>
						</textElement>
						<text><![CDATA[Caliber/Gauge:]]></text>
					</staticText>
					<textField isBlankWhenNull="true">
						<reportElement x="40" y="2" width="95" height="17" forecolor="#FFFFFF" uuid="f767961b-8aa2-4819-822b-01d9f1aedd84"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="11" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{SKUNO}]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement x="442" y="25" width="125" height="14" forecolor="#FFFFFF" uuid="42646332-e289-465b-981c-58942aa1caed"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{ACTION}]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement x="474" y="1" width="272" height="12" forecolor="#FFFFFF" uuid="207182e6-0f2c-4d5e-a4ab-b5f267a7a05e"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{MANUFACTURER} == null? " " : $F{MANUFACTURER} + ($F{IMPORTER} == null ? " " : "/" + $F{IMPORTER})]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement x="442" y="13" width="125" height="12" forecolor="#FFFFFF" uuid="15830f28-2b94-4a6b-b3c4-fbf83abe20a2"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{CALIBER_GAUGE}]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement x="40" y="19" width="327" height="17" forecolor="#FFFFFF" uuid="11af271c-6fe0-480b-90dc-63347901c28d"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="11" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{SERIALNO}]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement x="620" y="13" width="126" height="12" forecolor="#FFFFFF" uuid="c70d0320-de7a-4ba7-9ffa-8a2b79568759"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{MODEL}]]></textFieldExpression>
					</textField>
					<staticText>
						<reportElement x="570" y="13" width="48" height="12" forecolor="#FFFFFF" uuid="dd55cb64-924c-42b1-b055-9e240c4dc6dc"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9"/>
						</textElement>
						<text><![CDATA[Model:]]></text>
					</staticText>
					<staticText>
						<reportElement x="570" y="25" width="48" height="14" forecolor="#FFFFFF" uuid="5f73354a-4044-4e62-b9f1-aeb64d8c8a8c"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9"/>
						</textElement>
						<text><![CDATA[Mfg Code:]]></text>
					</staticText>
					<textField isBlankWhenNull="true">
						<reportElement x="620" y="25" width="126" height="14" forecolor="#FFFFFF" uuid="de9e3cd5-6665-46d2-ac9a-913ea8c0a4da"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="9" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{MFG_CD}]]></textFieldExpression>
					</textField>
				</frame>
				<textField>
					<reportElement style="Column Header" x="194" y="56" width="235" height="14" uuid="49df4cc7-847f-4c6a-bd6f-b5284b9f4cdb"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Received From"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="164" y="56" width="28" height="14" uuid="0ef6efb8-911e-44e6-bd6e-64003ea50c6d"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Site #"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="702" y="56" width="50" height="14" uuid="509c3f52-c381-48a1-b2af-4941ccd82f2e"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["FLN"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Group2 Header" x="194" y="40" width="287" height="15" uuid="7dfc8196-47fc-4bdf-9791-d8a85e317315"/>
					<textElement textAlignment="Center"/>
					<textFieldExpression><![CDATA["Acquisition"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Group2 Header" x="0" y="40" width="192" height="15" uuid="0c1f9fb9-af57-4105-89bc-a4457dc8ca9b"/>
					<textElement textAlignment="Center">
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Process"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Group2 Header" x="483" y="40" width="269" height="15" uuid="57a2c330-4964-470b-8520-f4c69b19f3fa"/>
					<textElement textAlignment="Center"/>
					<textFieldExpression><![CDATA["Disposition"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="483" y="56" width="219" height="14" uuid="c40b6f4c-5866-4f6a-afa2-f310d111c7ec"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["Name"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column Header" x="429" y="56" width="52" height="14" uuid="316af2b1-225b-4645-b6ac-6336b3da4f99"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["FLN"]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="comments">
		<groupExpression><![CDATA[$F{SEQ_NO}]]></groupExpression>
		<groupFooter>
			<band height="13">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement style="Detail" x="0" y="0" width="752" height="13" uuid="4679c658-7db5-4d2c-8bdb-f8e7a9f77e0a">
						<printWhenExpression><![CDATA[$F{COMMENTS}.length() > 0 ? Boolean.TRUE : Boolean.FALSE]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Left">
						<font fontName="Arial" size="8" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{COMMENTS}.length() > 0 ? "        Comments: " + $F{COMMENTS} : ""]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="certificate">
		<groupExpression><![CDATA[$F{SEQ_NO}]]></groupExpression>
		<groupFooter>
			<band height="12">
				<textField isBlankWhenNull="true">
					<reportElement style="Detail" positionType="Float" x="0" y="0" width="381" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" uuid="e28cd66c-09ba-440e-9340-a06d519595c8">
						<printWhenExpression><![CDATA[$F{CERTIFICATENO} == null ? Boolean.FALSE : Boolean.TRUE]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="false" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CERTIFICATENO}.length() > 0 ? "        Certificate #: " + $F{CERTIFICATENO} : ""]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement style="Detail" positionType="Float" x="381" y="0" width="371" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" uuid="4b6023d8-31cb-4120-a12e-b3c4720f7541">
						<printWhenExpression><![CDATA[$F{CERTIFICATENO} == null ? Boolean.FALSE : Boolean.TRUE]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="false" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CERTIFICATEID}.length() > 0 ? "        Certificate ID: " + $F{CERTIFICATEID} : ""]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<title>
		<band/>
	</title>
	<pageHeader>
		<band height="67">
			<textField>
				<reportElement key="Parameter 1" style="Parameter" x="1" y="23" width="72" height="14" uuid="a46a4a93-f6a8-4728-891c-3514a632fe2e"/>
				<box leftPadding="0"/>
				<textElement>
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Firearm Vendor: "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="2" y="37" width="71" height="14" uuid="f0743e1b-0116-4e91-b4e1-502623754d43"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Site/Group: "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="74" y="38" width="37" height="14" uuid="4f64d99b-fba3-4f95-b742-6c95a2b7d517"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{group_id}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="1" y="52" width="72" height="14" uuid="a04c475d-32f4-4b76-9e11-251e451b106c"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Date Range:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="74" y="23" width="100" height="14" uuid="1583d2ef-26c2-4424-ac01-dfd21bb36d58"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{vendor_id}.length() < 1 ? "ALL" : $P{vendor_id}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yyyy">
				<reportElement style="Parameter" x="74" y="52" width="56" height="14" uuid="bde019e7-7121-4a19-aab6-47c786ee5df4"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{begin_date}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yyyy">
				<reportElement style="Parameter" mode="Transparent" x="141" y="52" width="65" height="14" uuid="76af8758-f1d7-42e1-ad80-e21db8e54b52"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{end_date}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="Parameter" x="131" y="52" width="10" height="14" uuid="885031a7-4f27-4828-8624-e6679a5f4e1b"/>
				<box leftPadding="0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[ - ]]></text>
			</staticText>
			<textField>
				<reportElement style="Parameter" x="208" y="23" width="39" height="14" uuid="5f81642e-b573-4412-9985-1ce9f5cba3da"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Status:"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="Parameter" x="259" y="23" width="489" height="14" uuid="d230dda6-a574-416f-b97f-619f4bbadf5b"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{availableNow}.equals("Y")  ? "AVAILABLE NOW" : ($P{allStatus}.equals("Y")      ? "ALL      " :
(($P{availStatus}.equals("Y")  ? "AVAILABLE / " : "") +
 ($P{rsvdStatus}.equals("Y")   ? "RESERVED / " : "") +
 ($P{intranStatus}.equals("Y") ? "IN TRANSIT / " : "") +
 ($P{rtvStatus}.equals("Y")    ? "RTV / " : "") +
 ($P{lostStatus}.equals("Y")   ? "LOST / " : "") +
 ($P{soldStatus}.equals("Y")   ? "SOLD " :"")))]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="209" y="38" width="50" height="14" uuid="e960b8df-ebe7-4dd2-b9c3-164801a262f5"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Attributes:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Parameter" x="259" y="38" width="489" height="14" uuid="22a51948-1712-42a2-8f34-ef57e4ce8199"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[(($P{mfgAttribute} != null && $P{mfgAttribute}.length() > 0) ? $P{mfgAttribute} : "") +
(($P{importerAttribute} != null && $P{importerAttribute}.length() > 0) ? (" / " + $P{importerAttribute}) : "") +
(($P{modelAttribute} != null && $P{modelAttribute}.length() > 0) ? (" / " + $P{modelAttribute}) : "") +
(($P{actionAttribute} != null && $P{actionAttribute}.length() > 0) ? (" / " + $P{actionAttribute}): "") +
(($P{caliberAttribute} != null && $P{caliberAttribute}.length() > 0) ? (" / " + $P{caliberAttribute}) : "")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement key="Report Title" style="Report Title" x="1" y="1" width="412" height="21" uuid="e9388da1-b47b-4f89-8bd7-a56881f2c484"/>
				<textFieldExpression><![CDATA["Firearm Report - Detail"]]></textFieldExpression>
			</textField>
			<image scaleImage="RetainShape" hAlign="Right" onErrorType="Blank">
				<reportElement key="logo" x="591" y="1" width="161" height="21" uuid="7f7e4539-2d2f-4af4-be4c-f9e9219381cf"/>
				<imageExpression><![CDATA["repo:logo.png"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="12">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" mode="Opaque" x="132" y="0" width="32" height="12" uuid="6a5b40a6-5173-4625-b81b-f49b434f45a8"/>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NEW_STATUS}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" x="2" y="0" width="45" height="12" forecolor="#000000" uuid="5d469be3-6d3f-40c4-91b5-4345a95299b5"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{TRAN_DT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" mode="Opaque" x="194" y="0" width="235" height="12" uuid="23032451-0c2c-41dc-b454-b5354134bbdf"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROCESS}.equals("RCVPO") ? $F{RCVDFROM}:
$F{PROCESS}.equals("RCVDS") ? $F{RCVDFROM}:
$F{PROCESS}.equals("RCVXF") ? $F{XRCVDFROM} :
$F{PROCESS}.equals("RCVRV") ? $F{RCVDFROM} :
$F{PROCESS}.equals("RETRN") ? $F{CUST_NAME} + " " + $F{CUST_LINE1} + " " + $F{CUST_CITY} + " " + $F{CUST_STATE} + " " + $F{CUST_ZIP}:
""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" mode="Opaque" x="483" y="0" width="219" height="12" uuid="bd6d4bde-9e3b-4c2e-894d-14cf4e29a5db"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROCESS}.equals("XFER") ?$F{CUST_NAME} + " " + $F{CUST_LINE1} + " " + $F{CUST_CITY} + " " + $F{CUST_STATE} + " " + $F{CUST_ZIP} :
($F{PROCESS}.equals("SALE") ? $F{CUST_NAME} + " " + $F{CUST_LINE1} + " " + $F{CUST_CITY} + " " + $F{CUST_STATE} + " " + $F{CUST_ZIP} :
($F{PROCESS}.equals("RTV")  ? $F{CUST_NAME} + " " + $F{CUST_LINE1} + " " + $F{CUST_CITY} + " " + $F{CUST_STATE} + " " + $F{CUST_ZIP} :
""))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" x="47" y="0" width="85" height="12" uuid="63c13527-9cf5-4b31-8e6e-c696001b30bd"/>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROCESS}.equals("ADJSR") ? "Status Changed" :
($F{PROCESS}.equals("SALE" ) ? "Sale" :
($F{PROCESS}.equals("RETRN") ? "Return" :
($F{PROCESS}.equals("XFER")  ? "Transfer" :
($F{PROCESS}.equals("RCVPO") ? "PO Receiving" :
($F{PROCESS}.equals("RCVDS") ? "DSD Receiving" :
($F{PROCESS}.equals("RSRV")   ? "Reserved" :
($F{PROCESS}.equals("ADJPI")  ? "Physical Inv" :
($F{PROCESS}.equals("RTV")    ? "Return to Vendor" :
($F{PROCESS}.equals("ADJR")   ? "Receiving Adjustment" :
($F{PROCESS}.equals("RCVRV")  ? "RTV Return Receipt" :
($F{PROCESS}.equals("RCVXF")  ? "Transfer Received" :
$F{PROCESS})))))))))))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" mode="Opaque" x="164" y="0" width="30" height="12" uuid="3264edf8-b1ff-436b-a56b-f8d98e59f544"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SITE_NO}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" x="702" y="0" width="50" height="12" uuid="543859ff-797a-49e7-9bb2-934748db1755"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROCESS}.equals("XFER") ?$F{CUST_FLN} + ($F{TTSN} != null ? ("/" + $F{TTSN}) : ""):
$F{PROCESS}.equals("RTV") ? $F{CUST_FLN} :
$F{PROCESS}.equals("SALE") ? $F{CUST_FLN} == null ? ($F{TTSN} != null ?  $F{TTSN} : "") :
                                                    $F{CUST_FLN} + ($F{TTSN} != null ? ("/" + $F{TTSN}) : "") : " "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="Detail" stretchType="RelativeToTallestObject" mode="Opaque" x="429" y="0" width="54" height="12" uuid="41098cf1-6cbf-4cb3-8b84-f7fea6329d88"/>
				<textElement textAlignment="Left">
					<font size="8" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROCESS}.equals("RCVPO") ?$F{FFLID}:
$F{PROCESS}.equals("RCVDS") ?$F{FFLID}:
$F{PROCESS}.equals("RCVXF") ?$F{FFLID} :
$F{PROCESS}.equals("RCVRV") ?$F{FFLID} :
$F{PROCESS}.equals("RETRN") ? $F{CUST_FLN} :
" "]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="23">
			<textField evaluationTime="Report">
				<reportElement style="Page Footer" x="675" y="1" width="77" height="20" uuid="5e310c95-b896-4270-8719-271c18b16012"/>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}.toString()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Page Footer" x="556" y="1" width="104" height="20" uuid="946a88d5-2459-4c3a-a008-7d4a03e5cd66"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Page Footer" x="660" y="1" width="15" height="20" uuid="7ebbf1e6-3405-4ad8-b7ef-04ef3d72861a"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA["of"]]></textFieldExpression>
			</textField>
			<textField pattern="yyyy.MM.dd &apos;at&apos; HH:mm:ss z">
				<reportElement style="Page Footer" x="1" y="1" width="545" height="20" uuid="ddebc95a-7f00-4d06-b7c5-efcbbe19923b"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
